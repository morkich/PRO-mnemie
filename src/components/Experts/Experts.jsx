import React from 'react';
import style from './Experts.module.css';
import Preloader from '../common/Preloader/Preloader';
import Watermark from '../common/Watermark/Watermark';
import { NavLink } from 'react-router-dom';
import FavoritesContainer from '../common/Favorites/FavoritesContainer';
import Title from '../common/Title/Title';
import FilterContainer from '../common/Filter/FilterContainer'
import Aside from '../Aside/Aside';

const Experts = (props) => {
  let pages = [];
  for (let i = 1; i <= props.totalPageCount; i++) {
    pages.push(i);
  }

  let pagesCount = pages
    .map(numberPage => {
      return <span key={numberPage}
        onClick={() => { props.onPageChange(numberPage) }}
        className={props.currentPage === numberPage ? style.active : ''}>{numberPage}
      </span>
    });

  return (
    <section className="container">
      <header className={style.header}>
        <Watermark main={true}/>   
        <Title 
          title={'Эксперты'} 
          main={true} 
          uppercase={true}
        />
        <FilterContainer />
      </header>
      <div className="pagination">
        {pagesCount}
      </div>
      <div className="content_right-aside">
        <main className={style.main}>
          {props.isLoading ? <Preloader /> : null}
          <ul className={style.experts}>
            {
              props.experts.map(expert =>
                (
                  <li key={expert.id}>
                    <div key={expert.id} className={style.expert}>
                    <FavoritesContainer expertId={expert.id} />
                      <div className={style.avatar}>
                        <img src={expert.avatar} alt="" />
                      </div>
                      <div className={style.discription}>
                        <h2><NavLink to={`/profile/${expert.id}`}>{expert.pro_lastname} {expert.pro_firstname} {expert.pro_secondname}</NavLink></h2>
                        <div className={style.work}>
                          <span>{expert.pro_position ? expert.pro_position : 'Странник'}</span>
                          <span>{expert.pro_workplace ? expert.pro_workplace : 'Всё и Вся'}</span>
                          <span className={style.city}>{expert.pro_city ? expert.pro_city : 'Человек мира'}</span>
                        </div>
                      </div>

                      <div className={style.raiting}>
                        <div>
                          <svg width="22" height="17" viewBox="0 0 22 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M21.0553 2.71301H18.985V1.20116C18.985 1.08127 18.8886 0.984131 18.7698 0.984131H0.48573C0.366841 0.984131 0.270508 1.08127 0.270508 1.20116V15.5635C0.270508 16.3422 0.898743 16.9757 1.67088 16.9757H19.9125C20.6613 16.9757 21.2705 16.3614 21.2705 15.6063V2.93004C21.2705 2.81016 21.1742 2.71301 21.0553 2.71301ZM20.8401 15.6063C20.8401 16.1221 20.424 16.5416 19.9125 16.5416C19.401 16.5416 18.985 16.1221 18.985 15.6063V15.0053C18.985 14.8854 18.8886 14.7882 18.7698 14.7882C18.6509 14.7882 18.5545 14.8854 18.5545 15.0053V15.6063C18.5545 15.9677 18.6943 16.2966 18.922 16.5416H1.67088C1.13605 16.5416 0.700953 16.1028 0.700953 15.5635V1.4182H18.5546V12.9783C18.5546 13.0982 18.6509 13.1954 18.7698 13.1954C18.8887 13.1954 18.985 13.0982 18.985 12.9783V3.14708H20.8401V15.6063H20.8401ZM9.05637 3.86537H2.19985C2.08096 3.86537 1.98463 3.96251 1.98463 4.0824V9.26778C1.98463 9.38767 2.08096 9.48481 2.19985 9.48481H9.05637C9.17526 9.48481 9.27159 9.38767 9.27159 9.26778V4.0824C9.27159 3.96255 9.17526 3.86537 9.05637 3.86537ZM8.84114 9.05075H2.41507V4.29943H8.84114V9.05075ZM9.98389 4.0824C9.98389 3.96251 10.0802 3.86537 10.1991 3.86537H17.0556C17.1745 3.86537 17.2709 3.96251 17.2709 4.0824C17.2709 4.20229 17.1745 4.29943 17.0556 4.29943H10.1991C10.0802 4.29943 9.98389 4.20229 9.98389 4.0824ZM9.98389 5.81137C9.98389 5.69148 10.0802 5.59433 10.1991 5.59433H17.0556C17.1745 5.59433 17.2709 5.69148 17.2709 5.81137C17.2709 5.93125 17.1745 6.0284 17.0556 6.0284H10.1991C10.0802 6.0284 9.98389 5.93121 9.98389 5.81137ZM9.98389 7.54029C9.98389 7.4204 10.0802 7.32326 10.1991 7.32326H17.0556C17.1745 7.32326 17.2709 7.4204 17.2709 7.54029C17.2709 7.66018 17.1745 7.75732 17.0556 7.75732H10.1991C10.0802 7.75732 9.98389 7.66014 9.98389 7.54029ZM10.1991 9.4862C10.0802 9.4862 9.98389 9.38906 9.98389 9.26917C9.98389 9.14928 10.0802 9.05214 10.1991 9.05214H17.0556C17.1745 9.05214 17.2709 9.14928 17.2709 9.26917C17.2709 9.38906 17.1745 9.4862 17.0556 9.4862H10.1991ZM9.27159 10.9981C9.27159 11.118 9.17526 11.2151 9.05637 11.2151H2.19985C2.08096 11.2151 1.98463 11.118 1.98463 10.9981C1.98463 10.8782 2.08096 10.7811 2.19985 10.7811H9.05637C9.17526 10.7811 9.27159 10.8782 9.27159 10.9981ZM9.27159 12.7257C9.27159 12.8456 9.17526 12.9427 9.05637 12.9427H2.19985C2.08096 12.9427 1.98463 12.8456 1.98463 12.7257C1.98463 12.6058 2.08096 12.5086 2.19985 12.5086H9.05637C9.17526 12.5086 9.27159 12.6058 9.27159 12.7257ZM9.27159 14.4532C9.27159 14.5731 9.17526 14.6702 9.05637 14.6702H2.19985C2.08096 14.6702 1.98463 14.5731 1.98463 14.4532C1.98463 14.3333 2.08096 14.2362 2.19985 14.2362H9.05637C9.17526 14.2362 9.27159 14.3334 9.27159 14.4532ZM17.3525 10.9981C17.3525 11.118 17.2562 11.2151 17.1373 11.2151H10.2808C10.1619 11.2151 10.0655 11.118 10.0655 10.9981C10.0655 10.8782 10.1619 10.7811 10.2808 10.7811H17.1373C17.2561 10.7811 17.3525 10.8782 17.3525 10.9981ZM17.3525 12.7257C17.3525 12.8456 17.2562 12.9427 17.1373 12.9427H10.2808C10.1619 12.9427 10.0655 12.8456 10.0655 12.7257C10.0655 12.6058 10.1619 12.5086 10.2808 12.5086H17.1373C17.2561 12.5086 17.3525 12.6058 17.3525 12.7257ZM17.3525 14.4532C17.3525 14.5731 17.2562 14.6702 17.1373 14.6702H10.2808C10.1619 14.6702 10.0655 14.5731 10.0655 14.4532C10.0655 14.3333 10.1619 14.2362 10.2808 14.2362H17.1373C17.2561 14.2362 17.3525 14.3334 17.3525 14.4532Z" fill="#333333" />
                          </svg>
                          <span>Статьи</span>
                          <span>{expert.pro_articles ? expert.pro_articles : 'нет'}</span>
                        </div>
                        <div>
                          <svg width="68" height="13" viewBox="0 0 68 13" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M53.9458 5.48313C53.8017 5.02278 53.4081 4.72533 52.9433 4.72533H49.9456L49.0017 1.73908C48.8565 1.28002 48.4638 0.984131 48.0003 0.984131C47.9989 0.984131 47.9973 0.984131 47.9959 0.984155C47.5304 0.986059 47.1379 1.28561 46.9958 1.74731L46.0793 4.72533H43.0567C42.5907 4.72533 42.1969 5.02378 42.0534 5.48565C41.9099 5.94751 42.0613 6.42974 42.439 6.71413L44.8846 8.55558L43.9432 11.5336C43.7976 11.9944 43.9464 12.4774 44.3223 12.7638C44.5112 12.9077 44.7279 12.9796 44.9448 12.9796C45.1597 12.9796 45.3747 12.9089 45.5626 12.7674L48.0125 10.9228L50.4333 12.7643C50.8088 13.05 51.2952 13.0514 51.6723 12.7679C52.0494 12.4844 52.2013 12.0032 52.0594 11.5418L51.1404 8.55558L53.5652 6.71098C53.9406 6.42542 54.09 5.94346 53.9458 5.48313Z" fill="#EFC74C" />
                            <path fillRule="evenodd" clipRule="evenodd" d="M62.0005 0.984131C62.0005 0.984131 62.0004 0.984131 62.0003 0.984131L61.9959 0.984155C61.5304 0.986059 61.1379 1.28561 60.9958 1.74731L60.0793 4.72533H57.0567C56.5907 4.72533 56.1969 5.02378 56.0534 5.48565C55.9099 5.94751 56.0613 6.42974 56.439 6.71413L58.8846 8.55558L57.9432 11.5336C57.7976 11.9944 57.9464 12.4774 58.3223 12.7638C58.5112 12.9077 58.7279 12.9796 58.9448 12.9796C59.1597 12.9796 59.3747 12.9089 59.5626 12.7674L62.0005 10.9319V0.984131ZM65.0306 12.9793C65.0469 12.9797 65.0632 12.9797 65.0795 12.9793H65.0306Z" fill="#EFC74C" />
                            <path d="M67.7073 5.55786L67.7073 5.55785C67.5941 5.19637 67.2933 4.97533 66.9433 4.97533H63.9456H63.7625L63.7073 4.80068L62.7633 1.81443L63.0017 1.73908L62.7633 1.81443C62.6493 1.45393 62.3492 1.23413 62.0003 1.23413L62 1.23412L61.9969 1.23417C61.6464 1.23559 61.3464 1.45822 61.2348 1.82084L60.9958 1.74731L61.2348 1.82084L60.3183 4.79886L60.264 4.97533H60.0793H57.0567C56.7058 4.97533 56.4048 5.19707 56.2922 5.55981L56.2921 5.55982C56.179 5.92401 56.2985 6.29545 56.5893 6.51441L56.5893 6.51441L59.035 8.35587L59.1763 8.46227L59.123 8.63093L58.1816 11.6089C58.0667 11.9723 58.1843 12.3443 58.4738 12.5649L58.4739 12.5649C58.6205 12.6767 58.7843 12.7296 58.9448 12.7296L67.7073 5.55786ZM67.7073 5.55786C67.8209 5.92076 67.7029 6.29212 67.4138 6.512L67.4138 6.51201L64.989 8.35661L64.8501 8.46229L64.9014 8.62912L65.8205 11.6153C65.9324 11.9791 65.8124 12.3499 65.5221 12.5681C65.2344 12.7844 64.8712 12.7834 64.5846 12.5654L64.5846 12.5654L62.1639 10.7239L62.0133 10.6093L61.8621 10.7231L59.4123 12.5677L59.4123 12.5677M67.7073 5.55786L59.4123 12.5677M67.9458 5.48313C67.8017 5.02278 67.4081 4.72533 66.9433 4.72533H63.9456L67.9458 5.48313ZM67.9458 5.48313C68.09 5.94346 67.9406 6.42541 67.5652 6.71098L67.9458 5.48313ZM59.4123 12.5677C59.2664 12.6776 59.1038 12.7296 58.9448 12.7296L59.4123 12.5677Z" stroke="#EFC74C" strokeWidth="0.5" />
                            <path d="M39.9458 5.48313C39.8017 5.02278 39.4081 4.72533 38.9433 4.72533H35.9456L35.0017 1.73908C34.8565 1.28002 34.4638 0.984131 34.0003 0.984131C33.9989 0.984131 33.9973 0.984131 33.9959 0.984155C33.5304 0.986059 33.1379 1.28561 32.9958 1.74731L32.0793 4.72533H29.0567C28.5907 4.72533 28.1969 5.02378 28.0534 5.48565C27.9099 5.94751 28.0613 6.42974 28.439 6.71413L30.8846 8.55558L29.9432 11.5336C29.7976 11.9944 29.9464 12.4774 30.3223 12.7638C30.5112 12.9077 30.7279 12.9796 30.9448 12.9796C31.1597 12.9796 31.3747 12.9089 31.5626 12.7674L34.0125 10.9228L36.4333 12.7643C36.8088 13.05 37.2952 13.0514 37.6723 12.7679C38.0494 12.4844 38.2013 12.0032 38.0594 11.5418L37.1404 8.55558L39.5652 6.71098C39.9406 6.42542 40.09 5.94346 39.9458 5.48313Z" fill="#EFC74C" />
                            <path d="M25.9458 5.48313C25.8017 5.02278 25.4081 4.72533 24.9433 4.72533H21.9456L21.0017 1.73908C20.8565 1.28002 20.4638 0.984131 20.0003 0.984131C19.9989 0.984131 19.9973 0.984131 19.9959 0.984155C19.5304 0.986059 19.1379 1.28561 18.9958 1.74731L18.0793 4.72533H15.0567C14.5907 4.72533 14.1969 5.02378 14.0534 5.48565C13.9099 5.94751 14.0613 6.42974 14.439 6.71413L16.8846 8.55558L15.9432 11.5336C15.7976 11.9944 15.9464 12.4774 16.3223 12.7638C16.5112 12.9077 16.7279 12.9796 16.9448 12.9796C17.1597 12.9796 17.3747 12.9089 17.5626 12.7674L20.0125 10.9228L22.4333 12.7643C22.8088 13.05 23.2952 13.0514 23.6723 12.7679C24.0494 12.4844 24.2013 12.0032 24.0594 11.5418L23.1404 8.55558L25.5652 6.71098C25.9406 6.42542 26.09 5.94346 25.9458 5.48313Z" fill="#EFC74C" />
                            <path d="M11.9458 5.48313C11.8017 5.02278 11.4081 4.72533 10.9433 4.72533H7.94563L7.00165 1.73908C6.85655 1.28002 6.46384 0.984131 6.00033 0.984131C5.99885 0.984131 5.99733 0.984131 5.99585 0.984155C5.53045 0.986059 5.1379 1.28561 4.99582 1.74731L4.07935 4.72533H1.05672C0.590708 4.72533 0.196871 5.02378 0.053406 5.48565C-0.0900822 5.94751 0.0612565 6.42974 0.438971 6.71413L2.8846 8.55558L1.94324 11.5336C1.79755 11.9944 1.94636 12.4774 2.32234 12.7638C2.51117 12.9077 2.72792 12.9796 2.9448 12.9796C3.15972 12.9796 3.37475 12.9089 3.56265 12.7674L6.01251 10.9228L8.43328 12.7643C8.80884 13.05 9.29522 13.0514 9.67232 12.7679C10.0494 12.4844 10.2013 12.0032 10.0594 11.5418L9.14036 8.55558L11.5652 6.71098C11.9406 6.42542 12.09 5.94346 11.9458 5.48313Z" fill="#EFC74C" />
                          </svg>
                          <span>Рейтинг</span>
                          <span>{expert.pro_raiting ? expert.pro_raiting : 0} из 5</span>
                        </div>
                      </div>
                    </div>
                  </li>
                )
              )
            }
          </ul>
        </main>
        <Aside />
      </div>
    </section>
  )
}

export default Experts;